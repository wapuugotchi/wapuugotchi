<?php

namespace Wapuugotchi\Wapuugotchi;

if ( ! defined( 'ABSPATH' ) ) : exit(); endif; // No direct access allowed.

class Menu {
	public function __construct() {
		add_action( 'admin_menu', [ $this, 'create_menu_page' ] );
	}

	public function create_menu_page() {
		$capability = 'manage_options';
		$slug       = 'wapuugotchi';

		add_menu_page(
			__( 'Wapuugotchi', 'wapuugotchi' ),
			__( 'WapuuGotchi', 'wapuugotchi' ),
			$capability,
			$slug,
			[ $this, 'customizer_page_template' ],
			'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSItMTAgLTUgMTAzNCAxMDM0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik01MzAgNzZxLTg0IDAtMTU0IDM1dC0xMTAgOThxLTEzIDEzLTM2IDI2LTIwIDEyLTI4IDE0LTEyIDMtMTkgMTIuNXQtNiAyMC41cTEgMTAgOCAxOHQyMCAxM2wtNiA2cS0xOSAyMy0xNSA0NyAxIDUgMyA5LTQxIDY5LTQxIDE0OSAwIDIwIDMgNDAtNi0yLTEzLTItMTUgMC0yOCA2LjVUODUgNTg2cS0yMSAyNi0xMyA2NCA1IDI0IDI4LjUgNTZ0NTMuNSA1NnEzMyAyNyA2MSAzMyA5IDIgMTcgMiAyNCAwIDM3LTE4IDMtNiA1LTEyIDYyIDQyIDEzNyA1MCA3IDIzIDI2IDMzIDEzIDcgMzEgNyA0MSAwIDY3LTMxaDVxMjAgMCA0Mi0zLTM4IDQyLTkxIDY4LTQ5IDI0LTkyIDI0LTUxIDAtNzItMzQtMTYtMjktNDEtNDV0LTUyLjUtMTYtNDUgMTgtMTguNSA0N3EtMSAzMiAzMiA2NiAzMCAzMSA3NiA1MiA1MyAyMyAxMDYgMjMgMjUgMCA0OC01IDY2LTE2IDEyNS41LTU0VDY2MCA4NzZ0NjAtMTExcTU5LTQ2IDg2LTE0MiAyMi04MyAxNy0xODUtNS05Mi0yOC0xNTctNC0xMy05LTI0aDE1cTE3IDAgMzQtNCAzMS0xMCA1NC0yOCAyMC0xNiAzMS0zNiAxMS0xOCAxMC0zMiAwLTExLTYtMTl0LTE0LjUtMTAtNDkuNS0yaC04NnEtNjAgMC05MC0xLTYzLTQ2LTE0NC00OWgtMTB6bTAgMzEgMjUgMXExNCAxIDI3IDRsMTEgM3ExNSA0IDI5IDEwbDE3IDggMTYgOS0yIDItMiA0LTEgNCAxIDUgNCA4cTMgNSA4IDEwbDE0IDEyIDI1IDE5IDMzIDE5IDIgNHE4IDEzIDE1IDI3bDYgMTMgOCAyMiA5IDI5cTUgMTggOCA0MCA2IDMzIDggNjkgNCA1MSAwIDk5bC0zIDI1cS0yIDE3LTUgMzNsLTYgMjQtNyAyNi0xMyAzMi0xMiAyMy0xMiAxOC0xNCAxNnEtMTEgMTEtMjMgMTlsLTEyIDgtMTIgN3EtMTEgNy0yMyAxMmwtMTEgNS0xNiA2cS0xOCA2LTM1IDlsLTE0IDItMTcgMnEtOCAxLTE3IDAgNC05IDYtMThsNC0xNSAzLTE0IDEtMTh2LTlxMC0xMC0yLTIwbC0zLTE2LTYtMTkgOS0xNSAxMC0xMyA5LTggMTAtOCA5LTZxMjEtMTEgNDctMTRsMTUtMSAxNiAyIDExIDJxMTAgMiAxOCA2IDUgMiA5IDVsNCAycTQgNCA3IDggMSAxIDMgMiA0IDIgOC0xbDItMyAxLTMtMi01LTgtOC0xMS04cTMtOSA1LTE4bDItMTAgMy0zMyAxLTIzLTItMjQtMy0yMC0zLTEyIDMgMWg1cTItMSAzLTJsMS0ycTEtMiAxLTVsLTItMy01MC00NC0yMy0xOC0xMi03LTE1LTktMjAtOC0xOS01LTIxLTNxLTggMC0xOCAxbC0xNSAycS0xMCAxLTI0IDRsLTE3IDQtMzYgN3EtOSAxLTE1IDAtMTItMS0yMS03bC05LTdxLTItMy0yLTYtMi02IDEtMTRsNy0xMSAxNi0xNSAxMS04cTYtMyAxMy02bDEzLTYgMTctNiAxOC00cTktMSAxOS0ybDE1LTEgMTYgMXExNiAxIDMwIDRsNiAycTkgMiAxNyA1bDQgMXEyIDAgMy0xbDMtNCAxLTNxMC0yLTEtNGwtMS0xcS0xLTEtMy0ybC0xNC01cS0xOS01LTM5LTdsLTEwLTFoLTE1di0ybDEtMy0yLTRxLTEtMS0zLTJoLTVxLTE5IDYtMzIgOWwtMTIgM3EtMzQgNi02MC0ybC0xMS0zLTE4LTlxLTIgMC0zLjUuNVQzODQgMjU0bC0xIDJxLTMgNC02IDlsLTggOC02IDUtMTQgOXEtMTAgNi0yMSAxMWwtMTAgM3EtNiAzLTEyIDRsLTQgMWgtNmwtNy0zLTUtNXEtNC01LTctMTF2LTJxLTItNC0yLTh2LTEzbDQtMTVxMy04IDktMTdsMTUtMjIgMzgtNDAgNTMtMzMgNTktMjF6bTEzOSA0OGgzbDUwIDJoMTAwbDc3IDEtMiA4LTMgOC0xMCAxM3EtMjIgMjUtNTggMzYtOSAzLTE5IDRoLTZsLTE1LTFxLTEzLTItMjYtN2wtMTktOHEtMTAtNS0yMC0xMWwtMTQtOS0xNC0xMS0xNy0xNS0xMC0xMGgzem0tMTY3IDlxLTYgMC0xMC41IDQuNXQtNC41IDExIDQuNSAxMVQ1MDIgMTk1dDEwLjUtNC41IDQuNS0xMS00LjUtMTFUNTAyIDE2NHptLTkxIDQxaC0zcS0yMiAyLTMxLjUgOS41VDM2OSAyMjl0MTIgOGwyIDFxOSAxIDEzIDB0MTMtOCAxMC0xNi04LTl6bS04NiAycS03IDAtMTEuNSA0LjVUMzA5IDIyMnQ0LjUgMTAuNSAxMSA0LjUgMTEtNC41VDM0MCAyMjJ0LTQuNS0xMC41VDMyNSAyMDd6bS02MiA0NHEtMSAxLTEgMmwtMiAxMnEtMSA1IDAgMTF2NHEtMTcgNS0zMCA1aC0xMHEtNy0xLTEwLTRsLTItMmgxcTQtMSAxMC00bDYtMnExOC05IDM4LTIyem0tNyA2OGgybDUgNHEyIDIgMyA0bDMgMTAtMiAxM3EtMyA3LTkgMTMtMTAgMTAtMjIgMTJoLTlsLTQtMXEtMy0yLTUtNGwtMS0yLTMtOXYtNWw0LTkgNC02IDQtNXE5LTkgMjAtMTNsNC0xcTMtMSA2LTF6bTg5IDVxMjQgMCA0OCA5LTQgOC00IDE2LTI1LTEyLTUxLTExLTI5IDAtNTYgMTUgMi03IDItMTMgMjYtMTMgNTQtMTZoN3ptNTUgNDhxMTMgMTQgMzYgMTYgMTEgMSAyOS0yIDMyIDQzIDM1IDk4IDIgNTAtMjQgOTgtMTAtNS0xOS01IDI1LTQzIDIzLTkxLTItNDUtMjUtODIgNSAyNS0xIDUxLTcgMzItMjcgOTQtMTIgMzgtMTcgNTctNSAxMC02IDIzbC0zIDEwIDItMnEwIDEwIDIgMjMtNDAgMjUtODMgMjQtNDctMy04OC0zOS0zOC0zNC01MC04MS0xMi00NC0uNS05MC41VDIyMyAzOTBxNCAxIDkgMWgycS0xMSAxMi0yMCAyNyA0LTEgMTItNSAxNS02IDI0LTQgMiAwIDEuNSA0dC0zIDYuNS04IDQtNy41IDIuNXEyIDQ2IDEzLjUgODcuNVQyODUgNjA4cTEtMzUgNi02OCAzLTE5IDEyLTUzLTgtMjQtMTItMzktMi0xMC02LTMxLTEzIDEtMTUuNS41VDI2OCA0MTNxMS04IDctOWw0MC0zcTM5LTQgNDAtMyA2IDYtMyAxMC01IDItMjAgNCAxMSA0NiAyOSA5NCAxMiAzNCAzNSA5MCA2LTI2IDE0LTU5IDEzLTM5IDExLjUtNjIuNVQ0MDQgNDI4cS0yNy00MS00LTU2em0tMTk5IDcxcS0xNiAzOS0xNCA4MCAyIDQzIDI0IDc3IDI0IDM4IDY3IDU3LTQxLTYxLTU4LjUtMTA5LjVUMjAxIDQ0M3ptMTA5IDY3cS0xMSA1MS0xMyA5Mi0yIDI5IDIgNjIgMTYgMyAzMiAyIDIyLTEgNDctMTMtNC01LTIyLTQxLTI2LTUwLTQ2LTEwMnptLTE3NCA4M2gybDQgMSAxMCAyIDggNCA2IDQgNiA1cTUgNSAxMiAxNCAyNCAzMyA1MSA4OWw2IDEzIDMgOXEyIDkgMiAxOC0xIDMtMSA2bC0yIDQtNSA0cS0zIDEtNiAxbC0xMC0xLTgtM3EtMTItNS0yNi0xNC0yMC0xNC00MC0zNC0xOC0xOS0zMC41LTM4LjVUMTAyIDY0M3EtNS0yMSA2LTM1bDQtNSA0LTQgMy0yIDgtM3ptMzE3IDRxNiAwIDEyIDNsMTAgNiAxNiAxNSAyOCA0MyAxMCAzM3E3IDMxIDAgNjBsLTYgMjMtMyA3LTYgMTItNyA5LTEwIDgtNiAzLTYgMy03IDEtMTAgMWgtNmwtNi0xLTQtMnEtMi0yLTQtM2wtMy01LTQtMTFxLTEtNi0xLTE1di01OWwtOS00Ni03LTM2cS0xLTE5IDQtMzFsNC01IDktOXE2LTQgMTItNHptMjM0IDE3MXEtNCAxMC04IDE5LjV0LTkgMTguNWwtMTcgMjgtOSAxM3EtNyA5LTE0IDE3bC03IDhxLTI4IDMxLTYzIDU3bC0xMCA2cS0xNCAxMC0yOSAxOGwtMTUgOC0xNiA4LTI2IDEwLTExIDQtMjggOC05IDJxLTEyIDItMjMgMmgtMjNxLTEzLTEtMjYtNGwtNi0xLTIyLTYtMTctNi0xNy04LTE2LTgtMTQtOS0yMC0xNi0xMy0xMy03LTlxLTExLTE2LTExLTI4dDQtMjBsMy01cTYtOCAxNS41LTEwdDE4LjUtMWwxMCAzIDExIDRxNiA0IDEyIDlsMTAgOXE5IDkgMTYgMjBsMTAgMTQgOCA4IDEwIDggMTMgNyAxMyA2cTE4IDYgMzkgNmgxN2wyMS0yIDI2LTZxNDUtMTMgODgtNDJsMTktMTUgMjItMTkgMjAtMjAgNi04IDIyLTMwIDctMTJxMTEtNSAyMi0xMC41dDIzLTEyLjV6IiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPgo='
		);

		add_submenu_page(
			$slug,
			__( 'Wapuugotchi', 'wapuugotchi' ),
			__( 'Customizer', 'wapuugotchi' ),
			$capability,
			$slug,
			[ $this, 'customizer_page_template' ]
		);
		add_submenu_page(
			$slug,
			__( 'Wapuugotchi', 'wapuugotchi' ),
			__( 'Quest Log', 'wapuugotchi' ),
			$capability,
			$slug . '-quests',
			[ $this, 'quests_page_template' ]
		);
	}

	public function customizer_page_template () {
		echo '<div class="wrap"><div id="wapuugotchi-app"></div></div>';
	}

	public function quests_page_template () {
		echo '<div class="wrap"><div id="wapuugotchi-quests"><h1>Quest Log</h1><div style="width: 100%; text-align: center"><img style="max-width: 500px; width: 100%;" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNTYwcHQiIGhlaWdodD0iNDkwcHQiIHZlcnNpb249IjEuMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJtNjUxLjgyMyA1ODkuNDktNjA4LjI0LjQ1M2MtMjMuNzczLjAxOC0zMy43NzYtMjQuMjIyLTE5Ljc4Mi00Ny45NGwyOTIuMjE1LTQ5NS4yNmMxNi42OS0yNy40ODMgNDcuNjI5LTI3Ljc4MiA2NC4zMTguOTI4bDI5NS41NjkgNDkzLjg4YzE2LjI1OSAyMy41ODEgNC40MzcgNDguMzYyLTI0LjA4IDQ3Ljk0eiIgZmlsbD0iI2VhMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmb250LXNpemU9IjEyIi8+CiAgICA8cGF0aCBkPSJtMzQ3LjI4IDk4LjUtOTcuNjg3IDE2MC41OS0xNjEuMjggMjc2Ljk0IDE5My44MSAxLjg3NSAzMzAuNjYtMi43NS05Ni4xNTYtMTYyLjQ3LTE2OS4zNC0yNzQuMTl6IiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZvbnQtc2l6ZT0iMTIiLz4KICAgIDxwYXRoIGQ9Im01OTAuMzU5IDUxOS4xMjMtMjQ1LjYxNS4zMTZjLTIuMjI1LS4yLTMuODM3LS43MDgtMi45OTQtMy4zNjNMNDMyIDQwMC4zODhjMy4xMjEtNC40MjMgNy44My02LjgxNSAxMi41NjgtNi42NzlsNDUuMzUxLS4wOTdjNy4zNTUtLjAwMyAxMC4xOTEgMi4xMjYgMTQuMjM5IDcuMjA4bDg4LjM3NSAxMTQuMTJjLjgwOSAyLjAwOC4wODQgNC4wMTUtMi4xNzQgNC4xODN6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZvbnQtc2l6ZT0iMTIiLz4KICAgIDxyZWN0IHRyYW5zZm9ybT0ibWF0cml4KC44ODU0NSAuNDY0NzQgLS40MDgwNSAuOTEyOTYgMCAwKSIgeD0iNDAxLjU5IiB5PSI4Ni45MTkiIHdpZHRoPSI2Mi4xNDIiIGhlaWdodD0iMTI0LjY4IiByeD0iMTEuMjA1IiByeT0iMTEuODE3IiBmaWxsPSIjMDAwMDAyIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZvbnQtc2l6ZT0iMTIiLz4KICAgIDxyZWN0IHg9IjI2Ni42MSIgeT0iMjY4LjU5IiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjMyLjUiIHJ4PSI5LjQxMiIgcnk9IjgiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZm9udC1zaXplPSIxMiIvPgogICAgPHJlY3QgdHJhbnNmb3JtPSJtYXRyaXgoLjQ2ODY5IC0uODgzMzYgLjc0NDY0IC42Njc0NyAwIDApIiB4PSItMTExLjA4IiB5PSIzNzQuOTUiIHdpZHRoPSI5My4xOTIiIGhlaWdodD0iMjcuNjQzIiByeD0iOC43NzEiIHJ5PSI2LjgwNCIgZmlsbC1ydWxlPSJldmVub2RkIiBmb250LXNpemU9IjEyIi8+CiAgICA8cmVjdCB0cmFuc2Zvcm09Im1hdHJpeCguODg0NTggLjQ2NjM4IC0uNDM2NjggLjg5OTYyIDAgMCkiIHg9IjM2MS41IiB5PSIxODQuNzQiIHdpZHRoPSIyOTIuNTMiIGhlaWdodD0iMTUuNTA2IiByeD0iMjcuNTMzIiByeT0iMy44MTciIGZpbGwtcnVsZT0iZXZlbm9kZCIgZm9udC1zaXplPSIxMiIvPgogICAgPHJlY3QgdHJhbnNmb3JtPSJtYXRyaXgoLS4wNTcyIC0uOTk4MzYgLjk5NzA0IC0uMDc2OTQgMCAwKSIgeD0iLTQ0MC4yNiIgeT0iMzM1LjM5IiB3aWR0aD0iMTM0Ljk1IiBoZWlnaHQ9IjI3LjAzMSIgcng9IjEyLjcwMSIgcnk9IjYuNjU0IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZvbnQtc2l6ZT0iMTIiLz4KICAgIDxlbGxpcHNlIHRyYW5zZm9ybT0ibWF0cml4KC45NTc1NyAwIDAgLjk3MjggLTE1LjE3OCAtMjAxLjA2KSIgY3g9IjQxOC43NSIgY3k9IjQ2Ny4zNiIgcng9IjMxLjI1IiByeT0iMzIuNSIgZmlsbC1ydWxlPSJldmVub2RkIiBmb250LXNpemU9IjEyIi8+CiAgICA8cmVjdCB0cmFuc2Zvcm09Im1hdHJpeCgtLjIzNCAtLjk3MjIzIC45ODU2NCAtLjE2ODgzIDAgMCkiIHg9Ii01MDQuMTIiIHk9IjE5Mi43IiB3aWR0aD0iNzguMDY2IiBoZWlnaHQ9IjMxLjIzNiIgcng9IjcuMzQ3IiByeT0iNy42ODkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZm9udC1zaXplPSIxMiIvPgogICAgPHJlY3QgdHJhbnNmb3JtPSJtYXRyaXgoLS4wMDc1NyAtLjk5OTk3IC45OTcwMyAuMDc2OTcgMCAwKSIgeD0iLTQ5NC4wNSIgeT0iMzAzLjg0IiB3aWR0aD0iNzguMjQiIGhlaWdodD0iMzEuMjQ2IiByeD0iNy4zNjQiIHJ5PSI3LjY5MSIgZmlsbC1ydWxlPSJldmVub2RkIiBmb250LXNpemU9IjEyIi8+CiAgICA8cmVjdCB0cmFuc2Zvcm09Im1hdHJpeCguNDk0NyAtLjg2OTA2IC44MTc4NyAuNTc1NCAwIDApIiB4PSItMjk2LjY1IiB5PSI0MjQuNDUiIHdpZHRoPSIxNTYuNzEiIGhlaWdodD0iMzEuOTUzIiByeD0iMTQuNzQ5IiByeT0iNy44NjUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZm9udC1zaXplPSIxMiIvPgo8L3N2Zz4K" /></div></div></div>';
	}
}
